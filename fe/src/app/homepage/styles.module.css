/* ============ Container ============ */
.main {
  @apply mx-auto w-full max-w-6xl px-6 py-6 lg:px-8;
}
.topRow {
  @apply mb-5 flex items-center gap-3;
}

/* ============ Search Bar ============ */
.searchWrap {
  @apply relative w-full;
}
.search {
  @apply w-full rounded-full border border-gray-200 bg-white/70 px-5 py-3.5 text-[15px] text-gray-700 outline-none transition placeholder:text-gray-400;
}
.search:hover {
  @apply bg-white;
}
.search:focus {
  @apply bg-white ring-2 ring-indigo-200;
}
:global(html.dark) .search {
  @apply border-gray-700 bg-gray-800/70 text-gray-100 placeholder-gray-400;
}
:global(html.dark) .search:hover {
  @apply bg-gray-800;
}
:global(html.dark) .search:focus {
  @apply bg-gray-800 ring-indigo-500/30;
}

.searchIconBtn {
  @apply absolute right-3.5 top-1/2 -translate-y-1/2 rounded-full p-2 text-gray-600 transition;
}
.searchIconBtn:hover {
  @apply bg-gray-100;
}
.searchIconBtn:active {
  @apply scale-95;
}
:global(html.dark) .searchIconBtn {
  @apply text-gray-300;
}
:global(html.dark) .searchIconBtn:hover {
  @apply bg-gray-700;
}

/* ============ Action buttons ============ */
.actions {
  @apply mb-6 grid grid-cols-1 gap-3 sm:grid-cols-3;
}
.actionBtn {
  @apply inline-flex items-center justify-center gap-2 rounded-xl border border-gray-200 bg-white px-4 py-3 text-sm font-medium text-gray-700 transition;
}
.actionBtn:hover {
  @apply -translate-y-[1px] shadow-md;
}
.actionBtn:active {
  @apply translate-y-0 shadow;
}
:global(html.dark) .actionBtn {
  @apply border-gray-700 bg-gray-800 text-gray-100;
}

/* ============ Sections ============ */
.section {
  @apply mb-8;
}
.sectionHeaderRow {
  @apply mb-3 flex items-center justify-between;
}
.sectionHeader {
  @apply text-lg font-semibold text-gray-700;
}
:global(html.dark) .sectionHeader {
  @apply text-gray-200;
}

/* ============ Pager (dùng chung) ============ */
.pager {
  @apply flex items-center gap-2;
}
.pageSizeWrap {
  @apply mr-2 inline-flex items-center gap-2;
}
.pageSizeLabel {
  @apply text-xs text-gray-500;
}
:global(html.dark) .pageSizeLabel {
  @apply text-gray-400;
}

.pageSizeSelect {
  @apply h-8 rounded-md border border-gray-200 bg-white px-2 text-sm text-gray-700 outline-none;
}
.pageSizeSelect:focus {
  @apply ring-2 ring-indigo-200;
}
:global(html.dark) .pageSizeSelect {
  @apply border-gray-700 bg-gray-800 text-gray-100;
}
:global(html.dark) .pageSizeSelect:focus {
  @apply ring-indigo-500/30;
}

.pagerBtn {
  @apply h-8 w-8 rounded-md border border-gray-200 bg-white text-gray-700 transition;
}
.pagerBtn:hover {
  @apply bg-gray-50;
}
.pagerBtn:disabled {
  @apply cursor-not-allowed opacity-50;
}
:global(html.dark) .pagerBtn {
  @apply border-gray-700 bg-gray-800 text-gray-100;
}

.pagerText {
  @apply text-sm text-gray-500;
}
:global(html.dark) .pagerText {
  @apply text-gray-400;
}

/* ============ Cards Horizontal Scroll ============ */
.cardsGrid {
  @apply flex gap-6 overflow-x-auto pb-4 pt-2;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
}
.cardsGrid > * {
  @apply flex-shrink-0;
  scroll-snap-align: start;
}

/* Custom scrollbar chỉ áp dụng cho grid này */
:global(.cardsGrid::-webkit-scrollbar) {
  height: 8px;
}
:global(.cardsGrid::-webkit-scrollbar-thumb) {
  background-color: rgba(156, 163, 175, 0.5);
  border-radius: 9999px;
}
:global(.cardsGrid::-webkit-scrollbar-thumb:hover) {
  background-color: rgba(107, 114, 128, 0.7);
}

/* ============ DocCard: responsive width mapping với search bar ============ */
/* 4 cards/row theo container của search bar + buttons, vẫn kéo ngang khi tràn */
.card {
  @apply flex-shrink-0 rounded-2xl border border-gray-200 bg-white shadow-sm transition;
  flex: 0 0 calc((100% - 3rem) / 4); /* gap-6 => 24px x 3 = 3rem */
  max-width: 260px;
  min-width: 220px;
  height: 340px;
  padding: 1rem;
}
.card:hover {
  @apply -translate-y-[2px] shadow-lg;
}
.card:active {
  @apply translate-y-0;
}
:global(html.dark) .card {
  @apply border-gray-700 bg-gray-800 shadow-none;
}

/* Thumbnail giữ tỷ lệ khung 16:9 */
.thumb {
  @apply relative mb-3 w-full overflow-hidden rounded-xl bg-gray-100;
  aspect-ratio: 16 / 9;
}
:global(html.dark) .thumb {
  @apply bg-gray-700;
}
.thumbImg {
  @apply h-full w-full object-cover;
}

/* Text & meta */
.cardTitle {
  @apply text-sm font-semibold text-gray-800;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-height: 2.6rem;
}
:global(html.dark) .cardTitle {
  @apply text-gray-100;
}

.meta {
  @apply mt-1 flex flex-wrap items-center gap-2 text-xs text-gray-500;
}
:global(html.dark) .meta {
  @apply text-gray-400;
}

.votesRow {
  @apply mt-2 flex items-center gap-2 text-xs font-medium;
}
.voteUp {
  @apply rounded-full bg-green-50 px-2 py-0.5 text-green-700;
}
:global(html.dark) .voteUp {
  @apply bg-green-900/30 text-green-300;
}
.voteDown {
  @apply rounded-full bg-red-50 px-2 py-0.5 text-red-700;
}
:global(html.dark) .voteDown {
  @apply bg-red-900/30 text-red-300;
}
.specChip {
  @apply ml-auto rounded-full bg-gray-100 px-2 py-0.5 text-gray-700;
}
:global(html.dark) .specChip {
  @apply bg-gray-700 text-gray-100;
}

.uploader {
  @apply mt-2 text-xs italic text-gray-500;
}
:global(html.dark) .uploader {
  @apply text-gray-400;
}

/* ============ Specialization block ============ */
.specBlock {
  @apply mt-6;
}
.specTitle {
  @apply mb-3 text-base font-semibold text-gray-700;
}
:global(html.dark) .specTitle {
  @apply text-gray-200;
}

/* ============ Footer pager (phân trang toàn trang) ============ */
.footerPager {
  @apply mt-8 flex items-center justify-end gap-3 border-t border-gray-200 pt-4;
}
:global(html.dark) .footerPager {
  @apply border-gray-800;
}

/* ============ Responsive tinh chỉnh (tùy chọn) ============ */
/* Màn rất rộng: card rộng hơn chút cho cân */
@media (min-width: 1440px) {
  .card {
    flex-basis: calc((100% - 4.5rem) / 5);
    max-width: 280px;
  } /* 5 cards nếu đủ chỗ */
}
/* Tablet: card nhỏ lại nhưng vẫn kéo ngang */
@media (max-width: 1024px) {
  .card {
    flex-basis: calc((100% - 2rem) / 3);
  }
}
/* Mobile lớn */
@media (max-width: 768px) {
  .card {
    flex-basis: calc((100% - 1rem) / 2);
  }
}
/* Mobile nhỏ */
@media (max-width: 480px) {
  .card {
    min-width: 200px;
    height: 320px;
  }
}
